var spawnList=[];function spawn(e,i,t,n,a){this.x=Math.floor(800*Math.random()),this.y=0,this.h=10,this.w=10,this.speed=3,this.fill="#00FF00"}function createSpawn(){var e=new spawn;spawnList.push(e)}createSpawn();var game=function(){var e=document.getElementById("canvas"),i=e.getContext("2d"),t={x:0,y:475,h:25,w:25,fill:"#fff",stroke:"#00FF00",dir:"right",speed:2};return{getPlayer:function(){return t},player:function(){i.fillStyle=t.fill,i.strokeStyle=t.stroke,i.clearRect(t.x-2,t.y-2,t.h+6,t.w+6),"right"===t.dir?(t.x+=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.x+t.w>=e.width&&(t.dir="left")):"left"===t.dir?(t.x-=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.x+t.w<=25&&(t.dir="right")):"up"==t.dir?(t.y-=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.y+t.h<=0&&(t.dir="down")):(t.y+=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.y+t.h>=e.height&&(t.dir="up"))},changeDirection:function(e){37==e?t.dir="left":38==e?t.dir="up":39==e?t.dir="right":40==e&&(t.dir="down")},animate:function(){this.player();for(var t=0;t<spawnList.length;t++)checkPosition(n=spawnList[t]),n.y>e.height&&(n.y=0),i.fillStyle=n.fill,i.clearRect(n.x-1,n.y-n.speed,n.w+2,n.h+2),i.fillRect(n.x,n.y=n.y+1,n.w,n.h),checkPosition(n);var n;window.requestAnimationFrame(this.animate.bind(this))},init:function(){e.width=800,e.height=600,this.animate()}}}();function checkPosition(e){e.x>=game.getPlayer().x-15&&e.x<=game.getPlayer().x+15&&e.y>=game.getPlayer().y&&e.y<=game.getPlayer().y+15&&alert("Game Over")}game.init(),window.addEventListener("keyup",function(e){37==e.keyCode?game.changeDirection(37):38==e.keyCode?game.changeDirection(38):39==e.keyCode?game.changeDirection(39):40==e.keyCode&&game.changeDirection(40)});