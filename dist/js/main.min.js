var spawnList=[];function spawn(e,i,t,n,a){this.x=Math.floor(800*Math.random()),this.y=Math.floor(-2e3*Math.random()),this.h=10,this.w=10,this.speed=3,this.fill="#00FF00"}function createSpawn(){for(x=0;x<100;x++){var e=new spawn;spawnList.push(e)}}createSpawn();var game=function(){var e=document.getElementById("canvas"),i=e.getContext("2d"),t={x:0,y:475,h:25,w:25,fill:"#fff",stroke:"#00FF00",dir:"right",speed:2};return{player:function(){i.fillStyle=t.fill,i.strokeStyle=t.stroke,i.clearRect(t.x-2,t.y-2,t.h+6,t.w+6),"right"===t.dir?(t.x+=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.x+t.w>=e.width&&(t.dir="left")):"left"===t.dir?(t.x-=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.x+t.w<=25&&(t.dir="right")):"up"==t.dir?(t.y-=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.y+t.h<=0&&(t.dir="down")):(t.y+=t.speed,i.fillRect(t.x,t.y,t.h,t.w),t.y+t.h>=e.height&&(t.dir="up"))},changeDirection:function(e){37==e?t.dir="left":38==e?t.dir="up":39==e?t.dir="right":40==e&&(t.dir="down")},animate:function(){this.player();for(var e=0;e<spawnList.length;e++)t=spawnList[e],i.fillStyle=t.fill,i.clearRect(t.x-1,t.y-t.speed,t.w+2,t.h+2),i.fillRect(t.x,t.y=t.y+t.speed,t.w,t.h);var t;window.requestAnimationFrame(this.animate.bind(this))},init:function(){e.width=800,e.height=600,this.animate()}}}();game.init(),window.addEventListener("keyup",function(e){37==e.keyCode?game.changeDirection(37):38==e.keyCode?game.changeDirection(38):39==e.keyCode?game.changeDirection(39):40==e.keyCode&&game.changeDirection(40)});